---
const response = await fetch(
  "https://api.mediastack.com/v1/news?access_key=bb9e1193bc1df83c00bb5d2eb4953c1d&categories=science,technology"
);
const { data } = await response.json();
const newsArticles = data || [];
---

<section
  id="news-list"
  class="section-padding-x pt-16 pb-16 bg-white-base text-dark-base"
>
  <div class="container max-w-screen-xl">
    <div class="columns-2 md:columns-3 lg:columns-4">
      {
        newsArticles.map(
          (news: { title: string; url: string; image: string }) => (
            <div class="card" key={news.title}>
              <a href={news.url} target="_blank" rel="noopener noreferrer">
                <div class="card-image">
                  <img src={news.image} alt={news.title} class="w-full" />
                </div>
                <div class="card-content">
                  <h3 class="card-title text-lg font-semibold text-dark-base mt-4 mb-2 md:mb-4">
                    {news.title}
                  </h3>
                </div>
              </a>
            </div>
          )
        )
      }
    </div>
  </div>
</section>
